<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Nivo Brows</title>

    <style>
        body {
            margin: 0;
            background: #1e1e1e;
            color: white;
            font-family: Arial;
        }

        #toolbar {
            background: #333;
            padding: 10px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        input {
            flex: 1;
            padding: 8px;
            border-radius: 5px;
            border: none;
            font-size: 16px;
        }

        button {
            padding: 8px 12px;
            cursor: pointer;
            border: none;
            background: #555;
            color: white;
            border-radius: 5px;
        }

        iframe {
            width: 100%;
            height: calc(100vh - 60px);
            border: none;
            background: white;
        }
    </style>
</head>

<body>

<div id="toolbar">
    <button onclick="goBack()">‚Üê</button>
    <button onclick="goForward()">‚Üí</button>
    <button onclick="reloadPage()">‚ü≥</button>
    <button onclick="goHome()">üè†</button>

    <input id="urlBar" placeholder="Enter URL..." onkeydown="if(event.key==='Enter') loadURL();">
    <button onclick="loadURL()">Go</button>
</div>

<iframe id="browser" src="https://example.com"></iframe>

<script>
const frame = document.getElementById("browser");
const urlBar = document.getElementById("urlBar");

function normalize(url) {
    if (!url.startsWith("http")) {
        return "https://" + url;
    }
    return url;
}

function loadURL() {
    const url = normalize(urlBar.value);
    tryNormal(url);
}

function tryNormal(url) {
    frame.src = url;

    // If iframe errors ‚Üí try proxy
    frame.onerror = () => tryProxy(url);
}

function tryProxy(url) {
    // Simple public proxy
    frame.src = "https://corsproxy.io/?" + encodeURIComponent(url);
}

function reloadPage() {
    frame.src = frame.src;
}

function goHome() {
    frame.src = "https://example.com";
}

function goBack() {
    try {
        frame.contentWindow.history.back();
    } catch {}
}

function goForward() {
    try {
        frame.contentWindow.history.forward();
    } catch {}
}

// Update URL bar when frame loads
frame.onload = () => {
    try {
        urlBar.value = frame.contentWindow.location.href;
    } catch {
        // Some sites block reading location, ignore
    }
};
</script>

</body>
</html>
